# @SAN_mediabot Deployment Guide

## Prerequisites
- GitHub account
- Render account
- Telegram bot token from @BotFather
- Database URL (PostgreSQL)

## Step 1: Create GitHub Repository

1. Go to GitHub and create a new repository
2. Name it something like "san-mediabot" or "telegram-file-bot"
3. Make it public or private (your choice)
4. Don't initialize with README (we'll push existing code)

## Step 2: Upload Code to GitHub

**Files to include in your repository:**
- `main.py` - Main application file
- `bot_handlers.py` - Telegram bot logic
- `models.py` - Database models
- `render.yaml` - Render deployment configuration
- `DEPLOYMENT.md` - Additional deployment info
- `README.md` - Project documentation

**Create requirements.txt with these dependencies:**
```
flask>=3.1.1
flask-sqlalchemy>=3.1.1
gunicorn>=23.0.0
psycopg2-binary>=2.9.10
python-dotenv>=1.1.1
python-telegram-bot==20.8
sqlalchemy>=2.0.43
telegram>=0.0.1
```

## Step 3: Deploy on Render

1. **Connect Repository:**
   - Go to [render.com](https://render.com)
   - Click "New" → "Web Service"
   - Connect your GitHub repository

2. **Configure Environment Variables:**
   - `BOT_TOKEN`: Your Telegram bot token from @BotFather
   - `DATABASE_URL`: Your PostgreSQL database URL
   - `FLASK_SECRET_KEY`: Will be auto-generated by Render

3. **Deployment Settings:**
   - **Environment**: Python 3
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `gunicorn main:app --bind 0.0.0.0:$PORT --workers 1 --timeout 120`
   - **Plan**: Free (or paid if you prefer)

## Step 4: Database Setup

**Option 1: Use Render PostgreSQL (Recommended)**
1. Create a PostgreSQL database on Render
2. Copy the database URL to your web service environment variables

**Option 2: Use External Database**
1. Create a PostgreSQL database on Neon, Supabase, or similar
2. Set the `DATABASE_URL` environment variable

## Step 5: Verify Deployment

1. Check Render logs for successful startup
2. Visit your app URL (should show health check)
3. Test bot functionality on Telegram

## Troubleshooting

**Common Issues:**
- **Bot not responding**: Check BOT_TOKEN is correct
- **Database errors**: Verify DATABASE_URL format
- **Build failures**: Ensure requirements.txt is correct

**Log Locations:**
- Render dashboard → Your service → Logs
- Look for startup messages and errors

## Bot Features Included

✅ File upload handling (all types)
✅ Automatic message deletion for privacy
✅ File metadata storage in PostgreSQL
✅ Interactive file management with buttons
✅ Support contact information (@takezo_5)
✅ Health check endpoint for monitoring
✅ Production-ready with Gunicorn

## Support

For any deployment issues, contact @takezo_5